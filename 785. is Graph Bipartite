class Solution(object):
    def isBipartite(self, graph):
        """
        :type graph: List[List[int]]
        :rtype: bool
        """
        n = len(graph)
        color = [0] * n  # 0 = uncolored, 1 = color A, -1 = color B

        for start in range(n):
            if color[start] != 0:
                continue

            # BFS a partir desse componente
            queue = [start]
            color[start] = 1

            while queue:
                u = queue.pop(0)
                for v in graph[u]:
                    if color[v] == 0:
                        color[v] = -color[u]
                        queue.append(v)
                    elif color[v] == color[u]:
                        return False

        return True
